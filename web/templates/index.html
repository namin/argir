{% extends "base.html" %}

{% block content %}
<div class="card">
    <h2>Analyze Natural Language Arguments</h2>
    <p>Enter your natural language text below and ARGIR will analyze the arguments, generate an argument graph, and produce formal logic representations.</p>
    
    <form method="POST" action="{{ url_for('process_text') }}">
        <div class="form-group">
            <label for="text">Natural Language Text:</label>
            <textarea id="text" name="text" placeholder="Enter your argument text here. For example: 'If it rains, the streets get wet. It is raining. So, the streets will get wet.'" required></textarea>
        </div>
        
        <div class="form-group">
            <label for="goal_id">Goal Node ID (optional):</label>
            <input type="text" id="goal_id" name="goal_id" placeholder="e.g., conclusion_1">
            <small style="color: #666; font-size: 0.9rem;">Leave empty for auto-selection. Use this to force a specific conclusion as the FOL conjecture.</small>
        </div>
        
        <div class="form-group">
            <div class="checkbox-group">
                <input type="checkbox" id="defeasible_fol" name="defeasible_fol">
                <label for="defeasible_fol">Enable Defeasible FOL (exceptions become negated conditions)</label>
            </div>
        </div>

        <div class="form-group">
            <div class="checkbox-group">
                <input type="checkbox" id="use_soft" name="use_soft" onchange="toggleSoftOptions()">
                <label for="use_soft">Use Soft Pipeline (more robust extraction)</label>
            </div>
            <small style="color: #666; font-size: 0.9rem; margin-left: 1.5rem; display: block;">
                Two-stage extraction: soft IR ‚Üí canonicalization ‚Üí strict ARGIR. Recommended for complex arguments.
            </small>
        </div>

        <div class="form-group" id="k_samples_group" style="display: none; margin-left: 1.5rem;">
            <label for="k_samples">Number of samples (soft pipeline only):</label>
            <input type="number" id="k_samples" name="k_samples" value="1" min="1" max="10">
            <small style="color: #666; font-size: 0.9rem;">Try multiple extractions and pick the best (1-10).</small>
        </div>

        <button type="submit" class="btn">Analyze Arguments</button>

        <script>
        function toggleSoftOptions() {
            const checkbox = document.getElementById('use_soft');
            const kSamplesGroup = document.getElementById('k_samples_group');
            kSamplesGroup.style.display = checkbox.checked ? 'block' : 'none';
        }
        </script>
    </form>
</div>

<div class="card">
    <h3>Example Inputs</h3>
    <div style="margin-bottom: 1rem;">
        <strong>Simple Modus Ponens:</strong>
        <p style="font-style: italic; color: #666; margin: 0.5rem 0;">
            "If it rains, the streets get wet. It is raining. So, the streets will get wet."
        </p>
    </div>
    
    <div style="margin-bottom: 1rem;">
        <strong>With Exception:</strong>
        <p style="font-style: italic; color: #666; margin: 0.5rem 0;">
            "If it rains, the streets get wet. It is raining. So, the streets will get wet. However, sometimes drains prevent wet streets."
        </p>
    </div>
    
    <div>
        <strong>Multiple Arguments:</strong>
        <p style="font-style: italic; color: #666; margin: 0.5rem 0;">
            "All birds can fly. Penguins are birds. But penguins cannot fly because they are flightless birds. Therefore, not all birds can fly."
        </p>
    </div>
</div>

<div class="card">
    <h3>What ARGIR Does</h3>
    <ul style="list-style: none; padding: 0;">
        <li style="margin-bottom: 0.5rem;">üîç <strong>Parses</strong> natural language arguments</li>
        <li style="margin-bottom: 0.5rem;">üìä <strong>Generates</strong> argument graphs with nodes and edges</li>
        <li style="margin-bottom: 0.5rem;">‚öñÔ∏è <strong>Applies</strong> argumentation framework (AF) semantics</li>
        <li style="margin-bottom: 0.5rem;">üî¨ <strong>Produces</strong> First-Order Logic (FOL) in TPTP format</li>
        <li style="margin-bottom: 0.5rem;">üìù <strong>Creates</strong> human-readable analysis reports</li>
    </ul>
</div>
{% endblock %}
